webpackJsonp([1],{0:function(t,e){},"19B/":function(t,e){},"6TtY":function(t,e){},"9Kp3":function(t,e){},Al3D:function(t,e){},E51W:function(t,e){},JbVF:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("mtWM"),a=i.n(s),o=i("9rMa"),r={state:{isShow:!1,starlistAll:{},starName:"",BangList:[]},getters:{getIsShow:function(t){return t.isShow},getstarList:function(t){return t.starlistAll},getStarMusicList:function(t){return t.starlistAll[t.starName]},getBangList:function(t){return t.BangList}},mutations:{isShowList:function(t){return t.isShow?t.isShow=!1:t.isShow=!0},setStarlistAll:function(t,e){t.starlistAll=e},setStarname:function(t,e){t.starName=e},setBangList:function(t,e){t.BangList=e}},actions:{set_isShowList:function(t){(0,t.commit)("isShowList")},set_starlistAll:function(t,e){(0,t.commit)("setStarlistAll",e)},set_Starname:function(t,e){(0,t.commit)("setStarname",e)}}},c={state:{audioElement:"",audio:{id:0,name:"",img:"",artist:"",album:"",src:""},musicList:[],songSheetType:"",currentIndex:0,playing:!1,waiting:!1,playType:1,currentTime:0,musicDuration:0,musicLoadStart:!1,duration:0,loop:!1},getters:{getaudioElement:function(t){return t.audioElement},getAudioInfo:function(t){return t.musicList[t.currentIndex]},getMusicList:function(t){return t.musicList},getPlaying:function(t){return t.playing},getDuration:function(t){return t.duration},getcurrentTime:function(t){return t.currentTime},getPlayType:function(t){return t.playType},getLoop:function(t){return t.loop}},mutations:{setaudioElement:function(t,e){return t.audioElement=e},setAudioSrc:function(t){t.audioElement.setAttribute("src",t.musicList[t.currentIndex].url),t.audioElement.load()},setCurrentIndex:function(t,e){return t.currentIndex=e},setMusicList:function(t,e){t.musicList=e},setCurrentTime:function(t,e){t.currentTime=e},setPlayType:function(t,e){t.playType=e},setLoop:function(t,e){t.loop=e},playIndex:function(t,e){t.currentIndex=e.index,t.audioElement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioElement.load(),t.audioElement.play()},play:function(t){t.playing=!0,t.audioElement.play()},pause:function(t){t.playing=!1,t.audioElement.pause()},togglePlay:function(t){t.playing?(t.playing=!1,t.audioElement.pause()):(t.playing=!0,t.audioElement.play())},playEnded:function(t){if(3!=t.playType){t.currentIndex++;var e=t.musicList.length;t.currentIndex>=e&&(t.currentIndex=0),t.audioElement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioElement.load(),t.audioElement.play()}},playPrev:function(t){t.currentIndex--;var e=t.musicList.length;alert(e),t.currentIndex<0&&(t.currentIndex=e-1),t.audioElement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioElement.load(),t.audioElement.play()},playNext:function(t){t.currentIndex++;var e=t.musicList.length;t.currentIndex>=e&&(t.currentIndex=0),t.audioElement.setAttribute("src",t.musicList[t.currentIndex].url),t.playing=!0,t.audioElement.load(),t.audioElement.play()},setDuration:function(t,e){t.duration=e.duration}},actions:{set_audioElement:function(t,e){(0,t.commit)("setaudioElement",e)},set_audioSrc:function(t,e){(0,t.commit)("setAudioSrc",e)},set_playEnded:function(t){t("playEnded")},set_duration:function(t,e){(0,t.commit)("setDuration",e)},set_CurrentTime:function(t,e){(0,t.commit)("setCurrentTime",e.time)},set_playType:function(t,e){(0,t.commit)("setPlayType",e.num)}}},u={state:{isShowMusic:!1},getters:{getIsShowMusic:function(t){return t.isShowMusic}},mutations:{set_isShowMusic:function(t){return t.isShowMusic?t.isShowMusic=!1:t.isShowMusic=!0}},actions:{}},l={state:{videoList:[],videoIndex:0,showVideo:!1},getters:{getvideoList:function(t){return t.videoList},getNowVideo:function(t){return t.videoList[t.videoIndex]},getShowVideo:function(t){return t.showVideo}},mutations:{setVideoList:function(t,e){t.videoList=e},setVideoIndex:function(t,e){t.videoIndex=e},setShowVideo:function(t){return t.showVideo?t.showVideo=!1:t.showVideo=!0}},actions:{}};n.default.use(o.a);var d=new o.a.Store({state:{},getters:{},mutations:{},actions:{},modules:{songList:r,Audio:c,Music:u,Video:l}}),m={name:"song",data:function(){return{}},methods:{playIndex:function(t){d.commit("setMusicList",this.songs),d.commit({type:"playIndex",index:t})}},computed:{songs:function(){return this.$store.getters.getBangList}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"songs"},[i("ul",{staticClass:"song-list"},t._l(t.songs,function(e,n){return i("li",{attrs:{"data-id":e},on:{click:function(e){t.playIndex(n)}}},[i("span",{staticClass:"song-list-img"},[i("img",{attrs:{src:e.img,width:"24",height:"24"}})]),t._v(" "),i("div",{staticClass:"song-list-content"},[i("h1",[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v(t._s(e.artist)+"("+t._s(e.album)+")")])])])}))])},staticRenderFns:[]};var f=i("VU/8")(m,p,!1,function(t){i("qVRb")},null,null).exports,g={name:"star",data:function(){return{}},methods:{open:function(t){d.dispatch("set_isShowList"),d.dispatch("set_Starname",t)}},computed:{starlist:function(){return this.$store.getters.getstarList}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"star"},[i("ul",{staticClass:"star-list"},t._l(t.starlist,function(e){return i("li",{on:{click:function(i){t.open(e.name)}}},[i("img",{attrs:{src:e.img}}),t._v(" "),i("h2",[t._v(t._s(e.name))])])}))])},staticRenderFns:[]};var h=i("VU/8")(g,v,!1,function(t){i("JbVF")},null,null).exports,y={name:"mv",data:function(){return{mvList:{}}},methods:{getData:function(){var t=this;a.a.get("/static/mv.json").then(function(e){t.mvList=e.data,d.commit("setVideoList",e.data)}).catch(function(t){console.log(t)})},playVideo:function(t){d.commit("setVideoIndex",t),d.commit("setShowVideo")}},created:function(){this.getData()},computed:{}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mv"},[i("ul",{staticClass:"mv-list"},t._l(t.mvList,function(e,n){return i("li",{on:{click:function(e){t.playVideo(n)}}},[i("div",{staticClass:"mask"}),t._v(" "),i("div",{staticClass:"playdetail icon-playdetail"}),t._v(" "),i("img",{attrs:{src:e.img}}),t._v(" "),i("h1",[t._v(t._s(e.title))]),t._v(" "),i("h1",{staticClass:"videoName"},[t._v(t._s(e.name))])])}))])},staticRenderFns:[]};var C=i("VU/8")(y,_,!1,function(t){i("6TtY")},null,null).exports,w={name:"starList",data:function(){return{}},methods:{hide:function(){d.dispatch("set_isShowList")},playmusic:function(t,e){d.commit("setMusicList",this.songlist.data),d.commit({type:"playIndex",index:e})}},computed:{isShow:function(){return this.$store.getters.getIsShow},songlist:function(){return this.$store.getters.getStarMusicList}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"sideUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"starList",attrs:{transiton:"sideUp"}},[i("div",{staticClass:"starListcontainer"},[i("div",{staticClass:"mu-appbar"},[i("div",{staticClass:"hide",on:{click:t.hide}},[i("i",{staticClass:"iconfont icon-left"}),i("span",[t._v("歌手")])])]),t._v(" "),i("div",{staticClass:"star-list-header"},[i("div",{staticClass:"lazyLoad"},[i("img",{attrs:{src:t.songlist.img}})]),t._v(" "),i("div",{staticClass:"star-info"},[i("h3",[t._v(t._s(t.songlist.name))]),t._v(" "),i("p",[i("span",{staticClass:"badge"},[t._v("歌手")])]),t._v(" "),i("p",[t._v("标签：华语/流行")])])]),t._v(" "),i("div",{staticClass:"star-list-content"},[i("ul",[i("li",[i("i"),t._v(" "),i("span",{staticClass:"name"},[t._v("音乐标题")]),t._v(" "),i("span",{staticClass:"album"},[t._v("专辑")])]),t._v(" "),t._l(t.songlist.data,function(e,n){return i("li",{attrs:{"data-id":t.songlist.name},on:{click:function(e){t.playmusic(t.songlist.name,n)}}},[i("i",[t._v(t._s(n+1))]),t._v(" "),i("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("span",{staticClass:"album"},[t._v(t._s(e.album))])])})],2)])])])])},staticRenderFns:[]};var I={name:"musicBar",data:function(){return{}},methods:{playpause:function(){d.commit("togglePlay")},openMusic:function(){d.commit("set_isShowMusic")}},computed:{isplaying:function(){return this.$store.getters.getPlaying},musicImg:function(){return this.$store.getters.getAudioInfo?this.$store.getters.getAudioInfo.img:""},musicName:function(){return this.$store.getters.getAudioInfo?this.$store.getters.getAudioInfo.name:""},musicArtist:function(){return this.$store.getters.getAudioInfo?this.$store.getters.getAudioInfo.artist:""}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"musicBar",on:{click:t.openMusic}},[i("div",{staticClass:"footerContent"},[i("div",{staticClass:"songImg"},[i("img",{attrs:{src:t.musicImg}})]),t._v(" "),i("div",{staticClass:"songInfo"},[i("p",{staticClass:"songName"},[t._v(t._s(t.musicName))]),t._v(" "),i("p",{staticClass:"songRemark"},[t._v(t._s(t.musicArtist))])]),t._v(" "),i("div",{staticClass:"operation"},[i("span",{staticClass:"iconfont",class:t.isplaying?"icon-pause-detail":"icon-playdetail",on:{click:function(e){return e.stopPropagation(),t.playpause(e)}}}),t._v(" "),i("span",{staticClass:"iconfont icon-list-music"})])])])},staticRenderFns:[]};var P={name:"music",data:function(){return{isplay:!1,exceed:!1,name:""}},methods:{closeMusic:function(){d.commit("set_isShowMusic")},playpause:function(){d.commit("togglePlay")},playPrev:function(){d.commit("playPrev")},playNext:function(){d.commit("playNext")},playType:function(){var t=this.$store.getters.getPlayType;++t>3&&(t=1),d.dispatch({type:"set_playType",num:t})},switchTime:function(t){var e=Math.floor(t/60),i=Math.floor(t%60);return e<10&&(e="0"+e),i<10&&(i="0"+i),e+":"+i}},computed:{isShowMusic:function(){return this.$store.getters.getIsShowMusic},musicImg:function(){return this.$store.getters.getAudioInfo?this.$store.getters.getAudioInfo.img:""},musicName:function(){return this.$store.getters.getAudioInfo?(this.$store.getters.getAudioInfo.name,this.name=this.$store.getters.getAudioInfo.name):"未知歌名"},musicArtist:function(){return this.$store.getters.getAudioInfo?this.$store.getters.getAudioInfo.artist:"未知歌手"},isplaying:function(){return this.isplay=this.$store.getters.getPlaying,this.$store.getters.getPlaying},musicCurrentTime:function(){return this.$store.getters.getcurrentTime?this.switchTime(this.$store.getters.getcurrentTime):"00:00"},musicDuration:function(){return this.$store.getters.getDuration?this.switchTime(this.$store.getters.getDuration):"00:00"},musicPalyType:function(){var t="icon-music-shunxu";switch(this.$store.getters.getPlayType){case 1:t="icon-music-shunxu",d.commit("setLoop",!1);break;case 2:t="icon-music-random",d.commit("setLoop",!1);break;case 3:t="icon-music-danqu1",d.commit("setLoop",!0)}return t},rangeProgress:function(){return this.$store.getters.getcurrentTime/this.$store.getters.getDuration*100}},watch:{isplay:function(t,e){if(!t){var i=getComputedStyle(this.$refs.rotate).transform,n=getComputedStyle(this.$refs.rotateImg).transform;this.$refs.rotate.style.transform="none"===i?n:n.concat("",i)}},name:function(t,e){var i=this;this.exceed=!1,setTimeout(function(){var t=i.$refs.namebox.getBoundingClientRect().width,e=i.$refs.musicname.getBoundingClientRect().width;return i.exceed=e>t},1e3)}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"sideUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMusic,expression:"isShowMusic"}],staticClass:"music",attrs:{transiton:"sideUp"}},[i("div",{staticClass:"musicBg",style:{backgroundImage:"url("+t.musicImg+")"}}),t._v(" "),i("div",{staticClass:"musiccontainer"},[i("div",{staticClass:"musicHeader"},[i("div",{staticClass:"musicBack hide",on:{click:t.closeMusic}},[i("i",{staticClass:"iconfont icon-left"})]),t._v(" "),i("div",{ref:"namebox",staticClass:"musicTitle"},[i("p",{ref:"musicname",staticClass:"musicName",class:t.exceed?"scroll":""},[t._v(t._s(t.musicName))])]),t._v(" "),i("div",{staticClass:"musicShare"},[i("i",{staticClass:"iconfont icon-share"})])]),t._v(" "),i("p",{staticClass:"musicArtist"},[t._v(t._s(t.musicArtist))]),t._v(" "),i("div",{ref:"rotate",staticClass:"rotate"},[i("div",{ref:"rotateImg",staticClass:"rotateImg",class:t.isplaying?"active":""},[i("img",{attrs:{src:t.musicImg}}),t._v(" "),i("div",{staticClass:"rotateImgBg"})])]),t._v(" "),i("div",{staticClass:"more"},[i("span",{staticClass:"icon-like"}),t._v(" "),i("span",{staticClass:"icon-download"}),t._v(" "),i("span",{staticClass:"icon-msg"}),t._v(" "),i("span",{staticClass:"icon-list-circle"})]),t._v(" "),i("div",{staticClass:"range"},[i("div",{staticClass:"rangeContent"},[i("div",{staticClass:"rangeBtn",style:"left:"+t.rangeProgress+"%"}),t._v(" "),i("div",{staticClass:"rangeProgress",style:"width:"+t.rangeProgress+"%"}),t._v(" "),i("div",{staticClass:"rangeRunway"})]),t._v(" "),i("div",{staticClass:"currentTime"},[i("span",{staticClass:"sTime"},[t._v(t._s(t.musicCurrentTime))]),t._v(" "),i("span",{staticClass:"eTime"},[t._v(t._s(t.musicDuration))])])]),t._v(" "),i("div",{staticClass:"musicfooter"},[i("span",{staticClass:"iconfont",class:t.musicPalyType,on:{click:function(e){return"button"in e||!t._k(e.keyCode,"top",void 0,e.key,void 0)?t.playType(e):null}}}),t._v(" "),i("span",{staticClass:"iconfont icon-prevdetail",on:{click:function(e){return e.stopPropagation(),t.playPrev(e)}}}),t._v(" "),i("span",{staticClass:"iconfont",class:t.isplaying?"icon-pause-detail":"icon-playdetail",on:{click:function(e){return e.stopPropagation(),t.playpause(e)}}}),t._v(" "),i("span",{staticClass:"iconfont icon-nextdetail",on:{click:function(e){return e.stopPropagation(),t.playNext(e)}}}),t._v(" "),i("span",{staticClass:"iconfont icon-list-music"})])])])])},staticRenderFns:[]};var S={name:"videoPlay",data:function(){return{playerOptions:{muted:!0,language:"zh-CN",autoplay:!0,sources:[{type:"video/mp4",src:""}],poster:""}}},mounted:function(){var t=this;setTimeout(function(){console.log("dynamic change options",t.player),t.player.muted(!0)},5e3)},computed:{player:function(){return this.$refs.videoPlayer.player}},methods:{onPlayerPlay:function(t){},onPlayerPause:function(t){},onPlayerEnded:function(t){},onPlayerLoadeddata:function(t){},onPlayerWaiting:function(t){},onPlayerPlaying:function(t){},onPlayerTimeupdate:function(t){},onPlayerCanplay:function(t){},onPlayerCanplaythrough:function(t){},playerStateChanged:function(t){},playerReadied:function(t){console.log("example player 1 readied",t),t.currentTime(10)},closeVideo:function(){d.commit("setShowVideo")}},created:function(){this.playerOptions.sources[0].src=this.$store.getters.getNowVideo.mvUrl,this.playerOptions.poster=this.$store.getters.getNowVideo.img}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"videoPlay"},[i("span",{staticClass:"iconfont icon-close",on:{click:t.closeVideo}}),t._v(" "),i("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:t.playerOptions,playsinline:!0},on:{play:function(e){t.onPlayerPlay(e)},pause:function(e){t.onPlayerPause(e)},ended:function(e){t.onPlayerEnded(e)},loadeddata:function(e){t.onPlayerLoadeddata(e)},waiting:function(e){t.onPlayerWaiting(e)},playing:function(e){t.onPlayerPlaying(e)},timeupdate:function(e){t.onPlayerTimeupdate(e)},canplay:function(e){t.onPlayerCanplay(e)},canplaythrough:function(e){t.onPlayerCanplaythrough(e)},ready:t.playerReadied,statechanged:function(e){t.playerStateChanged(e)}}})],1)},staticRenderFns:[]};var E={name:"App",data:function(){return{navList:[{name:"榜单",link:"/bang"},{name:"歌手",link:"/star"},{name:"MV",link:"/mv"}]}},methods:{handleTabChange:function(t){this.activeTab=t},handleActive:function(){window.alert("tab active")},musicEnded:function(){d.commit("playEnded")},musicError:function(){},paused:function(){d.commit("pause")},musicCanPlay:function(){d.dispatch({type:"set_duration",duration:Math.floor(this.$refs.audio.duration)})},musicTimeUpdate:function(){d.dispatch({type:"set_CurrentTime",time:Math.floor(this.$refs.audio.currentTime)})}},components:{song:f,star:h,starList:i("VU/8")(w,L,!1,function(t){i("tXyU")},null,null).exports,musicBar:i("VU/8")(I,x,!1,function(t){i("19B/")},null,null).exports,music:i("VU/8")(P,$,!1,function(t){i("YpGz")},null,null).exports,mv:C,videoPlay:i("VU/8")(S,T,!1,function(t){i("b+2F")},null,null).exports},created:function(){var t=this;setTimeout(function(){d.dispatch("set_audioElement",t.$refs.audio),d.commit("setCurrentIndex",0),d.commit("setAudioSrc")},500),this.$http.get("/static/music.json").then(function(t){d.commit("setBangList",t.data),d.commit("setMusicList",t.data)}).catch(function(t){console.log(t)}),this.$http.get("/static/star.json").then(function(t){d.dispatch("set_starlistAll",t.data)}).catch(function(t){console.log(t)})},computed:{showList:function(){return this.$store.getters.getIsShow},playing:function(){return this.$store.getters.getPlaying},isLoop:function(){return this.$store.getters.getLoop},showVideo:function(){return this.$store.getters.getShowVideo}}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("audio",{ref:"audio",attrs:{id:"myaudio",src:"",loop:t.isLoop},on:{timeupdate:t.musicTimeUpdate,canplay:t.musicCanPlay,ended:t.musicEnded,error:t.musicError,paused:t.paused}}),t._v(" "),i("div",{staticClass:"header"},t._l(t.navList,function(e){return i("router-link",{attrs:{to:e.link,"active-class":"active"}},[t._v(t._s(e.name))])})),t._v(" "),i("keep-alive",[i("router-view")],1),t._v(" "),i("music-bar"),t._v(" "),i("music"),t._v(" "),t.showVideo?i("videoPlay"):t._e(),t._v(" "),t.showList?i("star-list"):t._e()],1)},staticRenderFns:[]};var V=i("VU/8")(E,A,!1,function(t){i("Al3D")},null,null).exports,M=i("/ocq");n.default.use(M.a);var b=new M.a({routes:[{path:"/",name:"song",component:f},{path:"/bang",name:"song",component:f},{path:"/star",name:"star",component:h},{path:"/mv",name:"mv",component:C}]}),k=i("u64Q"),N=i.n(k),B=(i("E51W"),i("9Kp3"),i("CRWL")),R=i.n(B);i("r8N3"),i("xRBc");n.default.use(N.a),n.default.use(R.a),n.default.prototype.$ajax=a.a,n.default.config.productionTip=!1,new n.default({el:"#app",router:b,store:d,components:{App:V},template:"<App/>"})},YpGz:function(t,e){},"b+2F":function(t,e){},qVRb:function(t,e){},r8N3:function(t,e){},tXyU:function(t,e){},xRBc:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0e30b6333ae3bc4d9152.js.map